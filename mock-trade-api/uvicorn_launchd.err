2025-12-15 09:06:44,904 - app.main - INFO - ================================================================================
2025-12-15 09:06:44,904 - app.main - INFO - MockTrade API Starting Up
2025-12-15 09:06:44,904 - app.main - INFO - Timestamp: 2025-12-15 09:06:44.904309
2025-12-15 09:06:44,904 - app.main - INFO - DATABASE_URL: postgresql://postgres:postgres@localhost:5432/mocktrade
2025-12-15 09:06:44,904 - app.main - INFO - ================================================================================
2025-12-15 09:06:45,053 - app.database - INFO - ================================================================================
2025-12-15 09:06:45,053 - app.database - INFO - DATABASE CONFIGURATION
2025-12-15 09:06:45,053 - app.database - INFO - DATABASE_URL env var: postgresql://postgres:postgres@localhost:5432/mocktrade
2025-12-15 09:06:45,053 - app.database - INFO - DATABASE: Using PostgreSQL connection: postgresql://postgres:postgres@localhost:5432/mocktrade
2025-12-15 09:06:45,111 - app.database - INFO - Connecting to DB at: postgresql://postgres:postgres@localhost:5432/mocktrade
2025-12-15 09:06:45,111 - app.database - INFO - ================================================================================
/Users/ravikiranreddygajula/Library/Python/3.9/lib/python/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-12-15 09:06:45,241 - app.main - INFO - Registering legacy routes...
2025-12-15 09:06:45,242 - app.main - INFO - Registering static_data routes...
2025-12-15 09:06:45,262 - app.main - INFO - Registering market_data routes...
2025-12-15 09:06:45,263 - app.main - INFO - Registering enrichment routes...
2025-12-15 09:06:45,264 - app.main - INFO - Registering trade routes...
2025-12-15 09:06:45,268 - app.main - INFO - Registering security routes...
2025-12-15 09:06:45,279 - app.main - INFO - All routes registered successfully
INFO:     Started server process [26835]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ERROR:    [Errno 48] error while attempting to bind on address ('127.0.0.1', 8000): address already in use
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
2025-12-15 09:06:51,356 - app.main - INFO - REQUEST: GET /health
2025-12-15 09:06:51,366 - app.main - INFO - Health check endpoint called - status: healthy
2025-12-15 09:06:51,366 - app.main - INFO - RESPONSE: GET /health - Status: 200
2025-12-15 09:07:00,877 - app.main - INFO - REQUEST: POST /api/v1/static-data/instruments
2025-12-15 09:07:00,885 - app.database - DEBUG - Database session created
2025-12-15 09:07:00,886 - app.modules.static_data.routes - INFO - ================================================================================
2025-12-15 09:07:00,886 - app.modules.static_data.routes - INFO - CREATE INSTRUMENT: Starting instrument creation
2025-12-15 09:07:00,886 - app.modules.static_data.routes - INFO - Input instrument data: {'symbol': 'AAPL', 'name': 'Apple Inc', 'asset_class': 'EQUITY', 'instrument_type': 'STOCK', 'status': 'ACTIVE', 'metadata': None}
2025-12-15 09:07:00,886 - app.modules.static_data.routes - INFO - Generated instrument_id: f3b744a7-fcea-4e11-9629-bc71467292c8
2025-12-15 09:07:00,908 - app.modules.static_data.routes - INFO - Created Instrument model object: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x105f48ac0>, 'instrument_id': 'f3b744a7-fcea-4e11-9629-bc71467292c8', 'symbol': 'AAPL', 'name': 'Apple Inc', 'asset_class': 'EQUITY', 'instrument_type': 'STOCK', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 15, 3, 37, 0, 886813, tzinfo=datetime.timezone.utc), 'metadata_json': None}
2025-12-15 09:07:00,908 - app.modules.static_data.routes - INFO - Added instrument to session
2025-12-15 09:07:00,918 - app.modules.static_data.routes - ERROR - CREATE INSTRUMENT: ERROR - (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('f3b744a7-fcea-4e11-9629-bc71467292c8', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:37:00.886813', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: instrument

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('f3b744a7-fcea-4e11-9629-bc71467292c8', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:37:00.886813', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-15 09:07:00,934 - app.modules.static_data.routes - ERROR - ================================================================================
2025-12-15 09:07:00,934 - app.database - ERROR - Database session error: (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('f3b744a7-fcea-4e11-9629-bc71467292c8', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:37:00.886813', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: instrument

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/database.py", line 40, in get_db
    yield db
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/concurrency.py", line 27, in contextmanager_in_threadpool
    yield await run_in_threadpool(cm.__enter__)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 430, in app
    raw_response = await run_endpoint_function(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 318, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('f3b744a7-fcea-4e11-9629-bc71467292c8', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:37:00.886813', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-15 09:07:00,944 - app.database - DEBUG - Database session closed
2025-12-15 09:07:00,945 - app.main - ERROR - REQUEST ERROR: POST /api/v1/static-data/instruments - (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('f3b744a7-fcea-4e11-9629-bc71467292c8', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:37:00.886813', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: instrument

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/main.py", line 42, in log_requests
    response = await call_next(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 430, in app
    raw_response = await run_endpoint_function(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 318, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('f3b744a7-fcea-4e11-9629-bc71467292c8', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:37:00.886813', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: instrument

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1139, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 196, in __call__
    recv_stream.close()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/main.py", line 42, in log_requests
    response = await call_next(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 430, in app
    raw_response = await run_endpoint_function(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 318, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('f3b744a7-fcea-4e11-9629-bc71467292c8', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:37:00.886813', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [26824]
2025-12-15 09:07:48,931 - app.main - INFO - ================================================================================
2025-12-15 09:07:48,931 - app.main - INFO - MockTrade API Starting Up
2025-12-15 09:07:48,931 - app.main - INFO - Timestamp: 2025-12-15 09:07:48.931524
2025-12-15 09:07:48,931 - app.main - INFO - DATABASE_URL: Not Set - Using SQLite
2025-12-15 09:07:48,931 - app.main - INFO - ================================================================================
2025-12-15 09:07:49,090 - app.database - INFO - ================================================================================
2025-12-15 09:07:49,091 - app.database - INFO - DATABASE CONFIGURATION
2025-12-15 09:07:49,091 - app.database - INFO - DATABASE_URL env var: NOT SET
2025-12-15 09:07:49,091 - app.database - WARNING - DATABASE: No DATABASE_URL set! Using SQLite: sqlite:///./dev.db
2025-12-15 09:07:49,091 - app.database - WARNING - DATABASE: To use PostgreSQL, set: export DATABASE_URL='postgresql://postgres:postgres@localhost:5432/mocktrade'
2025-12-15 09:07:49,104 - app.database - INFO - Connecting to DB at: sqlite:///./dev.db
2025-12-15 09:07:49,104 - app.database - INFO - ================================================================================
/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-12-15 09:07:49,220 - app.main - INFO - Registering legacy routes...
2025-12-15 09:07:49,221 - app.main - INFO - Registering static_data routes...
2025-12-15 09:07:49,243 - app.main - INFO - Registering market_data routes...
2025-12-15 09:07:49,246 - app.main - INFO - Registering enrichment routes...
2025-12-15 09:07:49,247 - app.main - INFO - Registering trade routes...
2025-12-15 09:07:49,250 - app.main - INFO - Registering security routes...
2025-12-15 09:07:49,278 - app.main - INFO - All routes registered successfully
INFO:     Started server process [26952]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-12-15 09:07:56,388 - app.main - INFO - REQUEST: GET /health
2025-12-15 09:07:56,398 - app.main - INFO - Health check endpoint called - status: healthy
2025-12-15 09:07:56,399 - app.main - INFO - RESPONSE: GET /health - Status: 200
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [26952]
2025-12-15 09:08:05,695 - app.main - INFO - ================================================================================
2025-12-15 09:08:05,695 - app.main - INFO - MockTrade API Starting Up
2025-12-15 09:08:05,695 - app.main - INFO - Timestamp: 2025-12-15 09:08:05.695804
2025-12-15 09:08:05,695 - app.main - INFO - DATABASE_URL: Not Set - Using SQLite
2025-12-15 09:08:05,695 - app.main - INFO - ================================================================================
2025-12-15 09:08:05,878 - app.database - INFO - ================================================================================
2025-12-15 09:08:05,878 - app.database - INFO - DATABASE CONFIGURATION
2025-12-15 09:08:05,878 - app.database - INFO - DATABASE_URL env var: NOT SET
2025-12-15 09:08:05,878 - app.database - WARNING - DATABASE: No DATABASE_URL set! Using SQLite: sqlite:///./dev.db
2025-12-15 09:08:05,878 - app.database - WARNING - DATABASE: To use PostgreSQL, set: export DATABASE_URL='postgresql://postgres:postgres@localhost:5432/mocktrade'
2025-12-15 09:08:05,893 - app.database - INFO - Connecting to DB at: sqlite:///./dev.db
2025-12-15 09:08:05,893 - app.database - INFO - ================================================================================
/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-12-15 09:08:06,012 - app.main - INFO - Registering legacy routes...
2025-12-15 09:08:06,013 - app.main - INFO - Registering static_data routes...
2025-12-15 09:08:06,044 - app.main - INFO - Registering market_data routes...
2025-12-15 09:08:06,046 - app.main - INFO - Registering enrichment routes...
2025-12-15 09:08:06,048 - app.main - INFO - Registering trade routes...
2025-12-15 09:08:06,051 - app.main - INFO - Registering security routes...
2025-12-15 09:08:06,079 - app.main - INFO - All routes registered successfully
INFO:     Started server process [26998]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-12-15 09:08:24,522 - app.main - INFO - REQUEST: GET /health
2025-12-15 09:08:24,530 - app.main - INFO - Health check endpoint called - status: healthy
2025-12-15 09:08:24,531 - app.main - INFO - RESPONSE: GET /health - Status: 200
2025-12-15 09:08:45,332 - app.main - INFO - REQUEST: POST /api/v1/static-data/instruments
2025-12-15 09:08:45,338 - app.database - DEBUG - Database session created
2025-12-15 09:08:45,338 - app.modules.static_data.routes - INFO - ================================================================================
2025-12-15 09:08:45,338 - app.modules.static_data.routes - INFO - CREATE INSTRUMENT: Starting instrument creation
2025-12-15 09:08:45,339 - app.modules.static_data.routes - INFO - Input instrument data: {'symbol': 'AAPL', 'name': 'Apple Inc', 'asset_class': 'EQUITY', 'instrument_type': 'STOCK', 'status': 'ACTIVE', 'metadata': None}
2025-12-15 09:08:45,339 - app.modules.static_data.routes - INFO - Generated instrument_id: 52899bc5-2a41-4f45-afff-79dcdc39cc88
2025-12-15 09:08:45,362 - app.modules.static_data.routes - INFO - Created Instrument model object: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x110608a00>, 'instrument_id': '52899bc5-2a41-4f45-afff-79dcdc39cc88', 'symbol': 'AAPL', 'name': 'Apple Inc', 'asset_class': 'EQUITY', 'instrument_type': 'STOCK', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 15, 3, 38, 45, 339293, tzinfo=datetime.timezone.utc), 'metadata_json': None}
2025-12-15 09:08:45,362 - app.modules.static_data.routes - INFO - Added instrument to session
2025-12-15 09:08:45,368 - app.modules.static_data.routes - ERROR - CREATE INSTRUMENT: ERROR - (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('52899bc5-2a41-4f45-afff-79dcdc39cc88', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:38:45.339293', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: instrument

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('52899bc5-2a41-4f45-afff-79dcdc39cc88', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:38:45.339293', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-15 09:08:45,391 - app.modules.static_data.routes - ERROR - ================================================================================
2025-12-15 09:08:45,392 - app.database - ERROR - Database session error: (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('52899bc5-2a41-4f45-afff-79dcdc39cc88', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:38:45.339293', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: instrument

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/database.py", line 40, in get_db
    yield db
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/concurrency.py", line 27, in contextmanager_in_threadpool
    yield await run_in_threadpool(cm.__enter__)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 430, in app
    raw_response = await run_endpoint_function(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 318, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('52899bc5-2a41-4f45-afff-79dcdc39cc88', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:38:45.339293', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-15 09:08:45,405 - app.database - DEBUG - Database session closed
2025-12-15 09:08:45,406 - app.main - ERROR - REQUEST ERROR: POST /api/v1/static-data/instruments - (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('52899bc5-2a41-4f45-afff-79dcdc39cc88', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:38:45.339293', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: instrument

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/main.py", line 42, in log_requests
    response = await call_next(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 430, in app
    raw_response = await run_endpoint_function(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 318, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('52899bc5-2a41-4f45-afff-79dcdc39cc88', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:38:45.339293', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: instrument

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1139, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 196, in __call__
    recv_stream.close()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/main.py", line 42, in log_requests
    response = await call_next(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 430, in app
    raw_response = await run_endpoint_function(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 318, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: instrument
[SQL: INSERT INTO instrument (instrument_id, symbol, name, asset_class, instrument_type, status, created_at, metadata_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('52899bc5-2a41-4f45-afff-79dcdc39cc88', 'AAPL', 'Apple Inc', 'EQUITY', 'STOCK', 'ACTIVE', '2025-12-15 03:38:45.339293', 'null')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [26998]
2025-12-15 09:08:56,466 - app.main - INFO - ================================================================================
2025-12-15 09:08:56,466 - app.main - INFO - MockTrade API Starting Up
2025-12-15 09:08:56,466 - app.main - INFO - Timestamp: 2025-12-15 09:08:56.466752
2025-12-15 09:08:56,466 - app.main - INFO - DATABASE_URL: Not Set - Using SQLite
2025-12-15 09:08:56,466 - app.main - INFO - ================================================================================
2025-12-15 09:08:56,641 - app.database - INFO - ================================================================================
2025-12-15 09:08:56,641 - app.database - INFO - DATABASE CONFIGURATION
2025-12-15 09:08:56,641 - app.database - INFO - DATABASE_URL env var: NOT SET
2025-12-15 09:08:56,641 - app.database - WARNING - DATABASE: No DATABASE_URL set! Using SQLite: sqlite:///./dev.db
2025-12-15 09:08:56,641 - app.database - WARNING - DATABASE: To use PostgreSQL, set: export DATABASE_URL='postgresql://postgres:postgres@localhost:5432/mocktrade'
2025-12-15 09:08:56,653 - app.database - INFO - Connecting to DB at: sqlite:///./dev.db
2025-12-15 09:08:56,653 - app.database - INFO - ================================================================================
/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-12-15 09:08:56,783 - app.main - INFO - Registering legacy routes...
2025-12-15 09:08:56,784 - app.main - INFO - Registering static_data routes...
2025-12-15 09:08:56,806 - app.main - INFO - Registering market_data routes...
2025-12-15 09:08:56,808 - app.main - INFO - Registering enrichment routes...
2025-12-15 09:08:56,809 - app.main - INFO - Registering trade routes...
2025-12-15 09:08:56,812 - app.main - INFO - Registering security routes...
2025-12-15 09:08:56,840 - app.main - INFO - All routes registered successfully
INFO:     Started server process [27079]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-12-15 09:09:08,094 - app.main - INFO - ================================================================================
2025-12-15 09:09:08,094 - app.main - INFO - MockTrade API Starting Up
2025-12-15 09:09:08,094 - app.main - INFO - Timestamp: 2025-12-15 09:09:08.094858
2025-12-15 09:09:08,094 - app.main - INFO - DATABASE_URL: Not Set - Using SQLite
2025-12-15 09:09:08,094 - app.main - INFO - ================================================================================
2025-12-15 09:09:08,242 - app.database - INFO - ================================================================================
2025-12-15 09:09:08,242 - app.database - INFO - DATABASE CONFIGURATION
2025-12-15 09:09:08,242 - app.database - INFO - DATABASE_URL env var: NOT SET
2025-12-15 09:09:08,242 - app.database - WARNING - DATABASE: No DATABASE_URL set! Using SQLite: sqlite:///./dev.db
2025-12-15 09:09:08,242 - app.database - WARNING - DATABASE: To use PostgreSQL, set: export DATABASE_URL='postgresql://postgres:postgres@localhost:5432/mocktrade'
2025-12-15 09:09:08,256 - app.database - INFO - Connecting to DB at: sqlite:///./dev.db
2025-12-15 09:09:08,256 - app.database - INFO - ================================================================================
/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-12-15 09:09:08,363 - app.main - INFO - Registering legacy routes...
2025-12-15 09:09:08,364 - app.main - INFO - Registering static_data routes...
2025-12-15 09:09:08,384 - app.main - INFO - Registering market_data routes...
2025-12-15 09:09:08,387 - app.main - INFO - Registering enrichment routes...
2025-12-15 09:09:08,388 - app.main - INFO - Registering trade routes...
2025-12-15 09:09:08,391 - app.main - INFO - Registering security routes...
2025-12-15 09:09:08,418 - app.main - INFO - All routes registered successfully
INFO:     Started server process [27102]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-12-15 09:09:25,076 - app.main - INFO - ================================================================================
2025-12-15 09:09:25,076 - app.main - INFO - MockTrade API Starting Up
2025-12-15 09:09:25,076 - app.main - INFO - Timestamp: 2025-12-15 09:09:25.076646
2025-12-15 09:09:25,076 - app.main - INFO - DATABASE_URL: Not Set - Using SQLite
2025-12-15 09:09:25,076 - app.main - INFO - ================================================================================
2025-12-15 09:09:25,238 - app.database - INFO - ================================================================================
2025-12-15 09:09:25,238 - app.database - INFO - DATABASE CONFIGURATION
2025-12-15 09:09:25,238 - app.database - INFO - DATABASE_URL env var: NOT SET
2025-12-15 09:09:25,238 - app.database - WARNING - DATABASE: No DATABASE_URL set! Using SQLite: sqlite:///./dev.db
2025-12-15 09:09:25,238 - app.database - WARNING - DATABASE: To use PostgreSQL, set: export DATABASE_URL='postgresql://postgres:postgres@localhost:5432/mocktrade'
2025-12-15 09:09:25,248 - app.database - INFO - Connecting to DB at: sqlite:///./dev.db
2025-12-15 09:09:25,248 - app.database - INFO - ================================================================================
/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-12-15 09:09:25,355 - app.main - INFO - Registering legacy routes...
2025-12-15 09:09:25,356 - app.main - INFO - Registering static_data routes...
2025-12-15 09:09:25,380 - app.main - INFO - Registering market_data routes...
2025-12-15 09:09:25,383 - app.main - INFO - Registering enrichment routes...
2025-12-15 09:09:25,384 - app.main - INFO - Registering trade routes...
2025-12-15 09:09:25,388 - app.main - INFO - Registering security routes...
2025-12-15 09:09:25,417 - app.main - INFO - All routes registered successfully
INFO:     Started server process [27133]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [27133]
2025-12-15 09:10:11,682 - app.main - INFO - ================================================================================
2025-12-15 09:10:11,682 - app.main - INFO - MockTrade API Starting Up
2025-12-15 09:10:11,682 - app.main - INFO - Timestamp: 2025-12-15 09:10:11.682842
2025-12-15 09:10:11,682 - app.main - INFO - DATABASE_URL: postgresql://postgres:postgres@localhost:5432/mocktrade
2025-12-15 09:10:11,682 - app.main - INFO - ================================================================================
2025-12-15 09:10:11,875 - app.database - INFO - ================================================================================
2025-12-15 09:10:11,875 - app.database - INFO - DATABASE CONFIGURATION
2025-12-15 09:10:11,875 - app.database - INFO - DATABASE_URL env var: postgresql://postgres:postgres@localhost:5432/mocktrade
2025-12-15 09:10:11,875 - app.database - INFO - DATABASE: Using PostgreSQL connection: postgresql://postgres:postgres@localhost:5432/mocktrade
2025-12-15 09:10:37,954 - app.database - INFO - Connecting to DB at: postgresql://postgres:postgres@localhost:5432/mocktrade
2025-12-15 09:10:37,954 - app.database - INFO - ================================================================================
/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-12-15 09:10:38,089 - app.main - INFO - Registering legacy routes...
2025-12-15 09:10:38,091 - app.main - INFO - Registering static_data routes...
2025-12-15 09:10:38,133 - app.main - INFO - Registering market_data routes...
2025-12-15 09:10:38,135 - app.main - INFO - Registering enrichment routes...
2025-12-15 09:10:38,136 - app.main - INFO - Registering trade routes...
2025-12-15 09:10:38,139 - app.main - INFO - Registering security routes...
2025-12-15 09:10:38,150 - app.main - INFO - All routes registered successfully
INFO:     Started server process [27193]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-12-15 09:10:38,303 - app.main - INFO - REQUEST: GET /health
2025-12-15 09:10:38,307 - app.main - INFO - Health check endpoint called - status: healthy
2025-12-15 09:10:38,307 - app.main - INFO - RESPONSE: GET /health - Status: 200
2025-12-15 09:10:45,320 - app.main - INFO - REQUEST: POST /api/v1/static-data/instruments
2025-12-15 09:10:45,329 - app.database - DEBUG - Database session created
2025-12-15 09:10:45,329 - app.modules.static_data.routes - INFO - ================================================================================
2025-12-15 09:10:45,329 - app.modules.static_data.routes - INFO - CREATE INSTRUMENT: Starting instrument creation
2025-12-15 09:10:45,330 - app.modules.static_data.routes - INFO - Input instrument data: {'symbol': 'AAPL', 'name': 'Apple Inc', 'asset_class': 'EQUITY', 'instrument_type': 'STOCK', 'status': 'ACTIVE', 'metadata': None}
2025-12-15 09:10:45,330 - app.modules.static_data.routes - INFO - Generated instrument_id: 7d1159eb-da15-4275-8609-b345a8159be4
2025-12-15 09:10:45,351 - app.modules.static_data.routes - INFO - Created Instrument model object: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x106db8940>, 'instrument_id': '7d1159eb-da15-4275-8609-b345a8159be4', 'symbol': 'AAPL', 'name': 'Apple Inc', 'asset_class': 'EQUITY', 'instrument_type': 'STOCK', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 15, 3, 40, 45, 330307, tzinfo=datetime.timezone.utc), 'metadata_json': None}
2025-12-15 09:10:45,352 - app.modules.static_data.routes - INFO - Added instrument to session
2025-12-15 09:10:45,723 - app.modules.static_data.routes - ERROR - CREATE INSTRUMENT: ERROR - (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  role "postgres" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: FATAL:  role "postgres" does not exist


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 60, in save_obj
    for (
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 223, in _organize_states_for_save
    for state, dict_, mapper, connection in _connections_for_states(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1759, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
  File "<string>", line 2, in connection
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1037, in connection
    return self._connection_for_bind(bind, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1173, in _connection_for_bind
    conn = self._parent._connection_for_bind(
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1187, in _connection_for_bind
    conn = bind.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3285, in connect
    return self._connection_cls(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2448, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  role "postgres" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-15 09:10:45,780 - app.modules.static_data.routes - ERROR - ================================================================================
2025-12-15 09:10:45,780 - app.database - ERROR - Database session error: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  role "postgres" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: FATAL:  role "postgres" does not exist


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/database.py", line 40, in get_db
    yield db
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/concurrency.py", line 27, in contextmanager_in_threadpool
    yield await run_in_threadpool(cm.__enter__)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 430, in app
    raw_response = await run_endpoint_function(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 318, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 60, in save_obj
    for (
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 223, in _organize_states_for_save
    for state, dict_, mapper, connection in _connections_for_states(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1759, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
  File "<string>", line 2, in connection
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1037, in connection
    return self._connection_for_bind(bind, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1173, in _connection_for_bind
    conn = self._parent._connection_for_bind(
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1187, in _connection_for_bind
    conn = bind.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3285, in connect
    return self._connection_cls(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2448, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  role "postgres" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-15 09:10:45,794 - app.database - DEBUG - Database session closed
2025-12-15 09:10:45,794 - app.main - ERROR - REQUEST ERROR: POST /api/v1/static-data/instruments - (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  role "postgres" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: FATAL:  role "postgres" does not exist


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/main.py", line 42, in log_requests
    response = await call_next(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 430, in app
    raw_response = await run_endpoint_function(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 318, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 60, in save_obj
    for (
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 223, in _organize_states_for_save
    for state, dict_, mapper, connection in _connections_for_states(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1759, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
  File "<string>", line 2, in connection
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1037, in connection
    return self._connection_for_bind(bind, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1173, in _connection_for_bind
    conn = self._parent._connection_for_bind(
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1187, in _connection_for_bind
    conn = bind.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3285, in connect
    return self._connection_cls(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2448, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  role "postgres" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: FATAL:  role "postgres" does not exist


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1139, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 196, in __call__
    recv_stream.close()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/main.py", line 42, in log_requests
    response = await call_next(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 430, in app
    raw_response = await run_endpoint_function(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 318, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 60, in save_obj
    for (
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 223, in _organize_states_for_save
    for state, dict_, mapper, connection in _connections_for_states(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1759, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
  File "<string>", line 2, in connection
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1037, in connection
    return self._connection_for_bind(bind, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1173, in _connection_for_bind
    conn = self._parent._connection_for_bind(
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1187, in _connection_for_bind
    conn = bind.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3285, in connect
    return self._connection_cls(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2448, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  role "postgres" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [27193]
2025-12-15 09:11:15,253 - app.main - INFO - ================================================================================
2025-12-15 09:11:15,253 - app.main - INFO - MockTrade API Starting Up
2025-12-15 09:11:15,253 - app.main - INFO - Timestamp: 2025-12-15 09:11:15.253792
2025-12-15 09:11:15,253 - app.main - INFO - DATABASE_URL: postgresql://ravikiranreddygajula@localhost:5432/mocktrade
2025-12-15 09:11:15,253 - app.main - INFO - ================================================================================
2025-12-15 09:11:15,431 - app.database - INFO - ================================================================================
2025-12-15 09:11:15,431 - app.database - INFO - DATABASE CONFIGURATION
2025-12-15 09:11:15,431 - app.database - INFO - DATABASE_URL env var: postgresql://ravikiranreddygajula@localhost:5432/mocktrade
2025-12-15 09:11:15,431 - app.database - INFO - DATABASE: Using PostgreSQL connection: postgresql://ravikiranreddygajula@localhost:5432/mocktrade
2025-12-15 09:11:15,494 - app.database - INFO - Connecting to DB at: postgresql://ravikiranreddygajula@localhost:5432/mocktrade
2025-12-15 09:11:15,494 - app.database - INFO - ================================================================================
/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-12-15 09:11:15,605 - app.main - INFO - Registering legacy routes...
2025-12-15 09:11:15,606 - app.main - INFO - Registering static_data routes...
2025-12-15 09:11:15,641 - app.main - INFO - Registering market_data routes...
2025-12-15 09:11:15,643 - app.main - INFO - Registering enrichment routes...
2025-12-15 09:11:15,644 - app.main - INFO - Registering trade routes...
2025-12-15 09:11:15,646 - app.main - INFO - Registering security routes...
2025-12-15 09:11:15,657 - app.main - INFO - All routes registered successfully
INFO:     Started server process [27289]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-12-15 09:11:20,924 - app.main - INFO - REQUEST: GET /health
2025-12-15 09:11:20,935 - app.main - INFO - Health check endpoint called - status: healthy
2025-12-15 09:11:20,936 - app.main - INFO - RESPONSE: GET /health - Status: 200
2025-12-15 09:11:27,777 - app.main - INFO - REQUEST: POST /api/v1/static-data/instruments
2025-12-15 09:11:27,784 - app.database - DEBUG - Database session created
2025-12-15 09:11:27,784 - app.modules.static_data.routes - INFO - ================================================================================
2025-12-15 09:11:27,785 - app.modules.static_data.routes - INFO - CREATE INSTRUMENT: Starting instrument creation
2025-12-15 09:11:27,785 - app.modules.static_data.routes - INFO - Input instrument data: {'symbol': 'AAPL', 'name': 'Apple Inc', 'asset_class': 'EQUITY', 'instrument_type': 'STOCK', 'status': 'ACTIVE', 'metadata': None}
2025-12-15 09:11:27,785 - app.modules.static_data.routes - INFO - Generated instrument_id: 2303875a-9b5d-4ad5-af41-7180da336462
2025-12-15 09:11:27,804 - app.modules.static_data.routes - INFO - Created Instrument model object: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x109eb88e0>, 'instrument_id': '2303875a-9b5d-4ad5-af41-7180da336462', 'symbol': 'AAPL', 'name': 'Apple Inc', 'asset_class': 'EQUITY', 'instrument_type': 'STOCK', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 15, 3, 41, 27, 785547, tzinfo=datetime.timezone.utc), 'metadata_json': None}
2025-12-15 09:11:27,805 - app.modules.static_data.routes - INFO - Added instrument to session
2025-12-15 09:11:27,825 - app.modules.static_data.routes - ERROR - CREATE INSTRUMENT: ERROR - (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  database "mocktrade" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: FATAL:  database "mocktrade" does not exist


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 60, in save_obj
    for (
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 223, in _organize_states_for_save
    for state, dict_, mapper, connection in _connections_for_states(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1759, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
  File "<string>", line 2, in connection
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1037, in connection
    return self._connection_for_bind(bind, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1173, in _connection_for_bind
    conn = self._parent._connection_for_bind(
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1187, in _connection_for_bind
    conn = bind.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3285, in connect
    return self._connection_cls(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2448, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  database "mocktrade" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-15 09:11:27,848 - app.modules.static_data.routes - ERROR - ================================================================================
2025-12-15 09:11:27,848 - app.database - ERROR - Database session error: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  database "mocktrade" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: FATAL:  database "mocktrade" does not exist


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/database.py", line 40, in get_db
    yield db
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/concurrency.py", line 27, in contextmanager_in_threadpool
    yield await run_in_threadpool(cm.__enter__)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 430, in app
    raw_response = await run_endpoint_function(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 318, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 60, in save_obj
    for (
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 223, in _organize_states_for_save
    for state, dict_, mapper, connection in _connections_for_states(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1759, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
  File "<string>", line 2, in connection
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1037, in connection
    return self._connection_for_bind(bind, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1173, in _connection_for_bind
    conn = self._parent._connection_for_bind(
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1187, in _connection_for_bind
    conn = bind.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3285, in connect
    return self._connection_cls(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2448, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  database "mocktrade" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-15 09:11:27,862 - app.database - DEBUG - Database session closed
2025-12-15 09:11:27,862 - app.main - ERROR - REQUEST ERROR: POST /api/v1/static-data/instruments - (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  database "mocktrade" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: FATAL:  database "mocktrade" does not exist


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/main.py", line 42, in log_requests
    response = await call_next(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 430, in app
    raw_response = await run_endpoint_function(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 318, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 60, in save_obj
    for (
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 223, in _organize_states_for_save
    for state, dict_, mapper, connection in _connections_for_states(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1759, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
  File "<string>", line 2, in connection
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1037, in connection
    return self._connection_for_bind(bind, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1173, in _connection_for_bind
    conn = self._parent._connection_for_bind(
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1187, in _connection_for_bind
    conn = bind.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3285, in connect
    return self._connection_cls(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2448, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  database "mocktrade" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: FATAL:  database "mocktrade" does not exist


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1139, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 196, in __call__
    recv_stream.close()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/main.py", line 42, in log_requests
    response = await call_next(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 430, in app
    raw_response = await run_endpoint_function(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 318, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/app/modules/static_data/routes.py", line 185, in create_instrument
    db.commit()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 60, in save_obj
    for (
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 223, in _organize_states_for_save
    for state, dict_, mapper, connection in _connections_for_states(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1759, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
  File "<string>", line 2, in connection
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1037, in connection
    return self._connection_for_bind(bind, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1173, in _connection_for_bind
    conn = self._parent._connection_for_bind(
  File "<string>", line 2, in _connection_for_bind
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1187, in _connection_for_bind
    conn = bind.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3285, in connect
    return self._connection_cls(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2448, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3309, in raw_connection
    return self.pool.connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 711, in checkout
    rec = pool._do_get()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 178, in _do_get
    self._dec_overflow()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/impl.py", line 175, in _do_get
    return self._create_connection()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 673, in __init__
    self.__connect()
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    pool.logger.debug("Error on connect(): %s", e)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "/Users/ravikiranreddygajula/MockTrade/mock-trade-api/.venv/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: FATAL:  database "mocktrade" does not exist

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-15 09:12:47,514 - app.main - INFO - REQUEST: POST /api/v1/static-data/instruments
2025-12-15 09:12:47,516 - app.database - DEBUG - Database session created
2025-12-15 09:12:47,517 - app.modules.static_data.routes - INFO - ================================================================================
2025-12-15 09:12:47,517 - app.modules.static_data.routes - INFO - CREATE INSTRUMENT: Starting instrument creation
2025-12-15 09:12:47,517 - app.modules.static_data.routes - INFO - Input instrument data: {'symbol': 'AAPL', 'name': 'Apple Inc', 'asset_class': 'EQUITY', 'instrument_type': 'STOCK', 'status': 'ACTIVE', 'metadata': None}
2025-12-15 09:12:47,517 - app.modules.static_data.routes - INFO - Generated instrument_id: 3a662a36-eb52-4673-8b9e-a60673f569f1
2025-12-15 09:12:47,517 - app.modules.static_data.routes - INFO - Created Instrument model object: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x10a3ee580>, 'instrument_id': '3a662a36-eb52-4673-8b9e-a60673f569f1', 'symbol': 'AAPL', 'name': 'Apple Inc', 'asset_class': 'EQUITY', 'instrument_type': 'STOCK', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 15, 3, 42, 47, 517583, tzinfo=datetime.timezone.utc), 'metadata_json': None}
2025-12-15 09:12:47,517 - app.modules.static_data.routes - INFO - Added instrument to session
2025-12-15 09:12:47,557 - app.modules.static_data.routes - INFO - Committed transaction
2025-12-15 09:12:47,566 - app.modules.static_data.routes - INFO - Refreshed instrument from DB: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x10a3ee580>, 'symbol': 'AAPL', 'asset_class': 'EQUITY', 'instrument_id': '3a662a36-eb52-4673-8b9e-a60673f569f1', 'status': 'ACTIVE', 'metadata_json': None, 'name': 'Apple Inc', 'instrument_type': 'STOCK', 'created_at': datetime.datetime(2025, 12, 15, 9, 12, 47, 517583)}
2025-12-15 09:12:47,567 - app.modules.static_data.routes - INFO - CREATE INSTRUMENT: Successfully created instrument 3a662a36-eb52-4673-8b9e-a60673f569f1
2025-12-15 09:12:47,567 - app.modules.static_data.routes - INFO - ================================================================================
2025-12-15 09:12:47,568 - app.main - INFO - RESPONSE: POST /api/v1/static-data/instruments - Status: 200
2025-12-15 09:12:47,570 - app.database - DEBUG - Database session closed
2025-12-15 09:13:18,632 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:13:18,642 - app.main - INFO - REQUEST: GET /api/v1/static-data/accounts
2025-12-15 09:13:18,645 - app.main - INFO - REQUEST: GET /api/v1/static-data/traders
2025-12-15 09:13:18,646 - app.database - DEBUG - Database session created
2025-12-15 09:13:18,648 - app.main - INFO - REQUEST: GET /order/
2025-12-15 09:13:18,649 - app.database - DEBUG - Database session created
2025-12-15 09:13:18,651 - app.database - DEBUG - Database session created
2025-12-15 09:13:18,652 - app.database - DEBUG - Database session created
2025-12-15 09:13:18,656 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Listing all accounts
2025-12-15 09:13:18,659 - app.modules.static_data.routes - INFO - LIST TRADERS: Listing all traders
2025-12-15 09:13:18,662 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:13:18,664 - app.database - DEBUG - Database session closed
2025-12-15 09:13:18,666 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:13:18,667 - app.database - DEBUG - Database session created
2025-12-15 09:13:18,670 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:13:18,672 - app.database - DEBUG - Database session closed
2025-12-15 09:13:18,687 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Found 0 accounts
2025-12-15 09:13:18,688 - app.modules.static_data.routes - INFO - LIST TRADERS: Found 0 traders
2025-12-15 09:13:18,689 - app.main - INFO - RESPONSE: GET /order/ - Status: 200
2025-12-15 09:13:18,691 - app.main - INFO - RESPONSE: GET /api/v1/static-data/accounts - Status: 200
2025-12-15 09:13:18,695 - app.database - DEBUG - Database session closed
2025-12-15 09:13:18,695 - app.main - INFO - RESPONSE: GET /api/v1/static-data/traders - Status: 200
2025-12-15 09:13:18,696 - app.main - INFO - REQUEST: GET /order/
2025-12-15 09:13:18,696 - app.database - DEBUG - Database session closed
2025-12-15 09:13:18,697 - app.main - INFO - REQUEST: GET /api/v1/static-data/accounts
2025-12-15 09:13:18,698 - app.database - DEBUG - Database session created
2025-12-15 09:13:18,699 - app.database - DEBUG - Database session created
2025-12-15 09:13:18,699 - app.database - DEBUG - Database session closed
2025-12-15 09:13:18,699 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Listing all accounts
2025-12-15 09:13:18,700 - app.main - INFO - REQUEST: GET /api/v1/static-data/traders
2025-12-15 09:13:18,700 - app.database - DEBUG - Database session created
2025-12-15 09:13:18,701 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Found 0 accounts
2025-12-15 09:13:18,701 - app.modules.static_data.routes - INFO - LIST TRADERS: Listing all traders
2025-12-15 09:13:18,701 - app.main - INFO - RESPONSE: GET /order/ - Status: 200
2025-12-15 09:13:18,702 - app.main - INFO - RESPONSE: GET /api/v1/static-data/accounts - Status: 200
2025-12-15 09:13:18,703 - app.database - DEBUG - Database session closed
2025-12-15 09:13:18,703 - app.database - DEBUG - Database session closed
2025-12-15 09:13:18,703 - app.modules.static_data.routes - INFO - LIST TRADERS: Found 0 traders
2025-12-15 09:13:18,704 - app.main - INFO - RESPONSE: GET /api/v1/static-data/traders - Status: 200
2025-12-15 09:13:18,705 - app.database - DEBUG - Database session closed
2025-12-15 09:13:21,109 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:13:21,111 - app.database - DEBUG - Database session created
2025-12-15 09:13:21,119 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:13:21,124 - app.database - DEBUG - Database session closed
2025-12-15 09:13:21,129 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:13:21,131 - app.database - DEBUG - Database session created
2025-12-15 09:13:21,139 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:13:21,143 - app.database - DEBUG - Database session closed
2025-12-15 09:14:04,284 - app.main - INFO - REQUEST: POST /api/v1/static-data/instruments
2025-12-15 09:14:04,287 - app.database - DEBUG - Database session created
2025-12-15 09:14:04,288 - app.modules.static_data.routes - INFO - ================================================================================
2025-12-15 09:14:04,288 - app.modules.static_data.routes - INFO - CREATE INSTRUMENT: Starting instrument creation
2025-12-15 09:14:04,288 - app.modules.static_data.routes - INFO - Input instrument data: {'symbol': 'EURUSD_FWD_3M', 'name': 'EUR/USD 3M FX Forward', 'asset_class': 'FX', 'instrument_type': 'OTC', 'status': 'ACTIVE', 'metadata': None}
2025-12-15 09:14:04,289 - app.modules.static_data.routes - INFO - Generated instrument_id: 57777ff1-5198-4ca9-84a3-a7cf28afbdce
2025-12-15 09:14:04,290 - app.modules.static_data.routes - INFO - Created Instrument model object: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x10a44dbe0>, 'instrument_id': '57777ff1-5198-4ca9-84a3-a7cf28afbdce', 'symbol': 'EURUSD_FWD_3M', 'name': 'EUR/USD 3M FX Forward', 'asset_class': 'FX', 'instrument_type': 'OTC', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 15, 3, 44, 4, 289445, tzinfo=datetime.timezone.utc), 'metadata_json': None}
2025-12-15 09:14:04,290 - app.modules.static_data.routes - INFO - Added instrument to session
2025-12-15 09:14:04,298 - app.modules.static_data.routes - INFO - Committed transaction
2025-12-15 09:14:04,306 - app.modules.static_data.routes - INFO - Refreshed instrument from DB: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x10a44dbe0>, 'symbol': 'EURUSD_FWD_3M', 'asset_class': 'FX', 'instrument_id': '57777ff1-5198-4ca9-84a3-a7cf28afbdce', 'status': 'ACTIVE', 'metadata_json': None, 'name': 'EUR/USD 3M FX Forward', 'instrument_type': 'OTC', 'created_at': datetime.datetime(2025, 12, 15, 9, 14, 4, 289445)}
2025-12-15 09:14:04,306 - app.modules.static_data.routes - INFO - CREATE INSTRUMENT: Successfully created instrument 57777ff1-5198-4ca9-84a3-a7cf28afbdce
2025-12-15 09:14:04,306 - app.modules.static_data.routes - INFO - ================================================================================
2025-12-15 09:14:04,308 - app.main - INFO - RESPONSE: POST /api/v1/static-data/instruments - Status: 200
2025-12-15 09:14:04,320 - app.database - DEBUG - Database session closed
2025-12-15 09:14:04,328 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:14:04,330 - app.database - DEBUG - Database session created
2025-12-15 09:14:04,336 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:14:04,345 - app.database - DEBUG - Database session closed
2025-12-15 09:14:08,370 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:14:08,371 - app.main - INFO - REQUEST: GET /api/v1/static-data/traders
2025-12-15 09:14:08,372 - app.main - INFO - REQUEST: GET /api/v1/static-data/accounts
2025-12-15 09:14:08,373 - app.main - INFO - REQUEST: GET /order/
2025-12-15 09:14:08,373 - app.database - DEBUG - Database session created
2025-12-15 09:14:08,374 - app.database - DEBUG - Database session created
2025-12-15 09:14:08,374 - app.database - DEBUG - Database session created
2025-12-15 09:14:08,375 - app.database - DEBUG - Database session created
2025-12-15 09:14:08,376 - app.modules.static_data.routes - INFO - LIST TRADERS: Listing all traders
2025-12-15 09:14:08,377 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Listing all accounts
2025-12-15 09:14:08,380 - app.modules.static_data.routes - INFO - LIST TRADERS: Found 0 traders
2025-12-15 09:14:08,381 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Found 0 accounts
2025-12-15 09:14:08,382 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:14:08,384 - app.main - INFO - RESPONSE: GET /order/ - Status: 200
2025-12-15 09:14:08,388 - app.database - DEBUG - Database session closed
2025-12-15 09:14:08,389 - app.main - INFO - RESPONSE: GET /api/v1/static-data/traders - Status: 200
2025-12-15 09:14:08,389 - app.main - INFO - RESPONSE: GET /api/v1/static-data/accounts - Status: 200
2025-12-15 09:14:08,394 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:14:08,396 - app.main - INFO - REQUEST: GET /order/
2025-12-15 09:14:08,398 - app.main - INFO - REQUEST: GET /api/v1/static-data/accounts
2025-12-15 09:14:08,399 - app.main - INFO - REQUEST: GET /api/v1/static-data/traders
2025-12-15 09:14:08,399 - app.database - DEBUG - Database session closed
2025-12-15 09:14:08,400 - app.database - DEBUG - Database session closed
2025-12-15 09:14:08,400 - app.database - DEBUG - Database session created
2025-12-15 09:14:08,400 - app.database - DEBUG - Database session closed
2025-12-15 09:14:08,401 - app.database - DEBUG - Database session created
2025-12-15 09:14:08,401 - app.database - DEBUG - Database session created
2025-12-15 09:14:08,401 - app.database - DEBUG - Database session created
2025-12-15 09:14:08,402 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Listing all accounts
2025-12-15 09:14:08,402 - app.modules.static_data.routes - INFO - LIST TRADERS: Listing all traders
2025-12-15 09:14:08,403 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:14:08,408 - app.database - DEBUG - Database session closed
2025-12-15 09:14:08,408 - app.modules.static_data.routes - INFO - LIST TRADERS: Found 0 traders
2025-12-15 09:14:08,409 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Found 0 accounts
2025-12-15 09:14:08,409 - app.main - INFO - RESPONSE: GET /order/ - Status: 200
2025-12-15 09:14:08,410 - app.main - INFO - RESPONSE: GET /api/v1/static-data/accounts - Status: 200
2025-12-15 09:14:08,410 - app.main - INFO - RESPONSE: GET /api/v1/static-data/traders - Status: 200
2025-12-15 09:14:08,412 - app.database - DEBUG - Database session closed
2025-12-15 09:14:08,412 - app.database - DEBUG - Database session closed
2025-12-15 09:14:08,412 - app.database - DEBUG - Database session closed
2025-12-15 09:14:22,176 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:14:22,180 - app.database - DEBUG - Database session created
2025-12-15 09:14:22,184 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:14:22,189 - app.database - DEBUG - Database session closed
2025-12-15 09:14:22,193 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:14:22,194 - app.database - DEBUG - Database session created
2025-12-15 09:14:22,197 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:14:22,200 - app.database - DEBUG - Database session closed
2025-12-15 09:14:23,550 - app.main - INFO - REQUEST: GET /api/v1/static-data/traders
2025-12-15 09:14:23,551 - app.database - DEBUG - Database session created
2025-12-15 09:14:23,552 - app.modules.static_data.routes - INFO - LIST TRADERS: Listing all traders
2025-12-15 09:14:23,553 - app.modules.static_data.routes - INFO - LIST TRADERS: Found 0 traders
2025-12-15 09:14:23,554 - app.main - INFO - RESPONSE: GET /api/v1/static-data/traders - Status: 200
2025-12-15 09:14:23,556 - app.database - DEBUG - Database session closed
2025-12-15 09:14:32,010 - app.main - INFO - REQUEST: POST /api/v1/static-data/traders
2025-12-15 09:14:32,019 - app.database - DEBUG - Database session created
2025-12-15 09:14:32,020 - app.modules.static_data.routes - INFO - ================================================================================
2025-12-15 09:14:32,021 - app.modules.static_data.routes - INFO - CREATE TRADER: Starting trader creation
2025-12-15 09:14:32,021 - app.modules.static_data.routes - INFO - Input trader data: {'user_id': '2819', 'name': 'Ravi', 'desk': 'FX', 'status': 'ACTIVE'}
2025-12-15 09:14:32,021 - app.modules.static_data.routes - INFO - Generated trader_id: 0113468b-2781-420f-840a-b09436118f9d
2025-12-15 09:14:32,023 - app.modules.static_data.routes - INFO - Created Trader model object: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x10a467160>, 'trader_id': '0113468b-2781-420f-840a-b09436118f9d', 'created_at': datetime.datetime(2025, 12, 15, 3, 44, 32, 21600, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 12, 15, 3, 44, 32, 21600, tzinfo=datetime.timezone.utc), 'user_id': '2819', 'name': 'Ravi', 'desk': 'FX', 'status': 'ACTIVE'}
2025-12-15 09:14:32,024 - app.modules.static_data.routes - INFO - Added trader to session
2025-12-15 09:14:32,033 - app.modules.static_data.routes - INFO - Committed transaction
2025-12-15 09:14:32,042 - app.modules.static_data.routes - INFO - Refreshed trader from DB: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x10a467160>, 'desk': 'FX', 'trader_id': '0113468b-2781-420f-840a-b09436118f9d', 'created_at': datetime.datetime(2025, 12, 15, 9, 14, 32, 21600), 'user_id': '2819', 'name': 'Ravi', 'status': 'ACTIVE', 'updated_at': datetime.datetime(2025, 12, 15, 9, 14, 32, 21600)}
2025-12-15 09:14:32,043 - app.modules.static_data.routes - INFO - CREATE TRADER: Successfully created trader 0113468b-2781-420f-840a-b09436118f9d
2025-12-15 09:14:32,043 - app.modules.static_data.routes - INFO - ================================================================================
2025-12-15 09:14:32,045 - app.main - INFO - RESPONSE: POST /api/v1/static-data/traders - Status: 200
2025-12-15 09:14:32,053 - app.database - DEBUG - Database session closed
2025-12-15 09:14:32,058 - app.main - INFO - REQUEST: GET /api/v1/static-data/traders
2025-12-15 09:14:32,060 - app.database - DEBUG - Database session created
2025-12-15 09:14:32,060 - app.modules.static_data.routes - INFO - LIST TRADERS: Listing all traders
2025-12-15 09:14:32,063 - app.modules.static_data.routes - INFO - LIST TRADERS: Found 1 traders
2025-12-15 09:14:32,065 - app.main - INFO - RESPONSE: GET /api/v1/static-data/traders - Status: 200
2025-12-15 09:14:32,068 - app.database - DEBUG - Database session closed
2025-12-15 09:14:33,820 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:14:33,821 - app.main - INFO - REQUEST: GET /api/v1/static-data/traders
2025-12-15 09:14:33,821 - app.main - INFO - REQUEST: GET /api/v1/static-data/accounts
2025-12-15 09:14:33,822 - app.database - DEBUG - Database session created
2025-12-15 09:14:33,825 - app.main - INFO - REQUEST: GET /order/
2025-12-15 09:14:33,827 - app.database - DEBUG - Database session created
2025-12-15 09:14:33,827 - app.database - DEBUG - Database session created
2025-12-15 09:14:33,828 - app.database - DEBUG - Database session created
2025-12-15 09:14:33,830 - app.modules.static_data.routes - INFO - LIST TRADERS: Listing all traders
2025-12-15 09:14:33,831 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Listing all accounts
2025-12-15 09:14:33,832 - app.modules.static_data.routes - INFO - LIST TRADERS: Found 1 traders
2025-12-15 09:14:33,834 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Found 0 accounts
2025-12-15 09:14:33,835 - app.main - INFO - RESPONSE: GET /order/ - Status: 200
2025-12-15 09:14:33,837 - app.main - INFO - RESPONSE: GET /api/v1/static-data/traders - Status: 200
2025-12-15 09:14:33,838 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:14:33,841 - app.main - INFO - RESPONSE: GET /api/v1/static-data/accounts - Status: 200
2025-12-15 09:14:33,842 - app.database - DEBUG - Database session closed
2025-12-15 09:14:33,842 - app.main - INFO - REQUEST: GET /order/
2025-12-15 09:14:33,843 - app.database - DEBUG - Database session created
2025-12-15 09:14:33,845 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:14:33,847 - app.main - INFO - REQUEST: GET /api/v1/static-data/traders
2025-12-15 09:14:33,848 - app.database - DEBUG - Database session closed
2025-12-15 09:14:33,848 - app.database - DEBUG - Database session closed
2025-12-15 09:14:33,848 - app.database - DEBUG - Database session closed
2025-12-15 09:14:33,849 - app.main - INFO - REQUEST: GET /api/v1/static-data/accounts
2025-12-15 09:14:33,849 - app.database - DEBUG - Database session created
2025-12-15 09:14:33,850 - app.database - DEBUG - Database session created
2025-12-15 09:14:33,850 - app.database - DEBUG - Database session created
2025-12-15 09:14:33,850 - app.main - INFO - RESPONSE: GET /order/ - Status: 200
2025-12-15 09:14:33,851 - app.modules.static_data.routes - INFO - LIST TRADERS: Listing all traders
2025-12-15 09:14:33,851 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Listing all accounts
2025-12-15 09:14:33,853 - app.database - DEBUG - Database session closed
2025-12-15 09:14:33,853 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:14:33,853 - app.modules.static_data.routes - INFO - LIST TRADERS: Found 1 traders
2025-12-15 09:14:33,854 - app.main - INFO - RESPONSE: GET /api/v1/static-data/traders - Status: 200
2025-12-15 09:14:33,863 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Found 0 accounts
2025-12-15 09:14:33,864 - app.database - DEBUG - Database session closed
2025-12-15 09:14:33,865 - app.database - DEBUG - Database session closed
2025-12-15 09:14:33,866 - app.main - INFO - RESPONSE: GET /api/v1/static-data/accounts - Status: 200
2025-12-15 09:14:33,873 - app.database - DEBUG - Database session closed
2025-12-15 09:14:48,697 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:14:48,699 - app.database - DEBUG - Database session created
2025-12-15 09:14:48,702 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:14:48,706 - app.database - DEBUG - Database session closed
2025-12-15 09:14:48,707 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:14:48,708 - app.database - DEBUG - Database session created
2025-12-15 09:14:48,711 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:14:48,713 - app.database - DEBUG - Database session closed
2025-12-15 09:14:51,736 - app.main - INFO - REQUEST: GET /api/v1/static-data/accounts
2025-12-15 09:14:51,737 - app.database - DEBUG - Database session created
2025-12-15 09:14:51,738 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Listing all accounts
2025-12-15 09:14:51,740 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Found 0 accounts
2025-12-15 09:14:51,740 - app.main - INFO - RESPONSE: GET /api/v1/static-data/accounts - Status: 200
2025-12-15 09:14:51,743 - app.database - DEBUG - Database session closed
2025-12-15 09:15:01,061 - app.main - INFO - REQUEST: POST /api/v1/static-data/accounts
2025-12-15 09:15:01,068 - app.database - DEBUG - Database session created
2025-12-15 09:15:01,069 - app.modules.static_data.routes - INFO - ================================================================================
2025-12-15 09:15:01,069 - app.modules.static_data.routes - INFO - CREATE ACCOUNT: Starting account creation
2025-12-15 09:15:01,069 - app.modules.static_data.routes - INFO - Input account data: {'code': '1234', 'name': 'ACC01', 'status': 'ACTIVE'}
2025-12-15 09:15:01,070 - app.modules.static_data.routes - INFO - Created Account model object with ID: 658c64ae-9bff-46cd-8530-a0ba012a3683
2025-12-15 09:15:01,085 - app.modules.static_data.routes - INFO - CREATE ACCOUNT: Successfully created account 658c64ae-9bff-46cd-8530-a0ba012a3683
2025-12-15 09:15:01,085 - app.modules.static_data.routes - INFO - ================================================================================
2025-12-15 09:15:01,086 - app.main - INFO - RESPONSE: POST /api/v1/static-data/accounts - Status: 200
2025-12-15 09:15:01,090 - app.database - DEBUG - Database session closed
2025-12-15 09:15:01,096 - app.main - INFO - REQUEST: GET /api/v1/static-data/accounts
2025-12-15 09:15:01,098 - app.database - DEBUG - Database session created
2025-12-15 09:15:01,099 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Listing all accounts
2025-12-15 09:15:01,105 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Found 1 accounts
2025-12-15 09:15:01,106 - app.main - INFO - RESPONSE: GET /api/v1/static-data/accounts - Status: 200
2025-12-15 09:15:01,108 - app.database - DEBUG - Database session closed
2025-12-15 09:15:03,051 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:15:03,052 - app.main - INFO - REQUEST: GET /api/v1/static-data/traders
2025-12-15 09:15:03,054 - app.main - INFO - REQUEST: GET /api/v1/static-data/accounts
2025-12-15 09:15:03,056 - app.main - INFO - REQUEST: GET /order/
2025-12-15 09:15:03,056 - app.database - DEBUG - Database session created
2025-12-15 09:15:03,057 - app.database - DEBUG - Database session created
2025-12-15 09:15:03,058 - app.database - DEBUG - Database session created
2025-12-15 09:15:03,058 - app.database - DEBUG - Database session created
2025-12-15 09:15:03,060 - app.modules.static_data.routes - INFO - LIST TRADERS: Listing all traders
2025-12-15 09:15:03,061 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Listing all accounts
2025-12-15 09:15:03,063 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Found 1 accounts
2025-12-15 09:15:03,064 - app.modules.static_data.routes - INFO - LIST TRADERS: Found 1 traders
2025-12-15 09:15:03,066 - app.main - INFO - RESPONSE: GET /api/v1/static-data/accounts - Status: 200
2025-12-15 09:15:03,066 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:15:03,070 - app.main - INFO - RESPONSE: GET /api/v1/static-data/traders - Status: 200
2025-12-15 09:15:03,072 - app.main - INFO - RESPONSE: GET /order/ - Status: 200
2025-12-15 09:15:03,074 - app.main - INFO - REQUEST: GET /api/v1/static-data/accounts
2025-12-15 09:15:03,075 - app.main - INFO - REQUEST: GET /api/v1/static-data/instruments
2025-12-15 09:15:03,075 - app.database - DEBUG - Database session closed
2025-12-15 09:15:03,076 - app.database - DEBUG - Database session closed
2025-12-15 09:15:03,077 - app.database - DEBUG - Database session created
2025-12-15 09:15:03,077 - app.database - DEBUG - Database session closed
2025-12-15 09:15:03,078 - app.database - DEBUG - Database session closed
2025-12-15 09:15:03,079 - app.main - INFO - REQUEST: GET /order/
2025-12-15 09:15:03,079 - app.database - DEBUG - Database session created
2025-12-15 09:15:03,080 - app.main - INFO - REQUEST: GET /api/v1/static-data/traders
2025-12-15 09:15:03,080 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Listing all accounts
2025-12-15 09:15:03,080 - app.database - DEBUG - Database session created
2025-12-15 09:15:03,081 - app.database - DEBUG - Database session created
2025-12-15 09:15:03,081 - app.modules.static_data.routes - INFO - LIST TRADERS: Listing all traders
2025-12-15 09:15:03,082 - app.modules.static_data.routes - INFO - LIST ACCOUNTS: Found 1 accounts
2025-12-15 09:15:03,082 - app.modules.static_data.routes - INFO - LIST TRADERS: Found 1 traders
2025-12-15 09:15:03,083 - app.main - INFO - RESPONSE: GET /order/ - Status: 200
2025-12-15 09:15:03,083 - app.main - INFO - RESPONSE: GET /api/v1/static-data/instruments - Status: 200
2025-12-15 09:15:03,084 - app.main - INFO - RESPONSE: GET /api/v1/static-data/accounts - Status: 200
2025-12-15 09:15:03,084 - app.main - INFO - RESPONSE: GET /api/v1/static-data/traders - Status: 200
2025-12-15 09:15:03,089 - app.database - DEBUG - Database session closed
2025-12-15 09:15:03,097 - app.database - DEBUG - Database session closed
2025-12-15 09:15:03,097 - app.database - DEBUG - Database session closed
2025-12-15 09:15:03,097 - app.database - DEBUG - Database session closed
2025-12-15 09:15:18,129 - app.main - INFO - REQUEST: POST /order/
2025-12-15 09:15:18,133 - app.database - DEBUG - Database session created
2025-12-15 09:15:18,158 - app.main - INFO - RESPONSE: POST /order/ - Status: 200
2025-12-15 09:15:18,161 - app.database - DEBUG - Database session closed
2025-12-15 09:15:18,167 - app.main - INFO - REQUEST: GET /order/
2025-12-15 09:15:18,167 - app.database - DEBUG - Database session created
2025-12-15 09:15:18,170 - app.main - INFO - RESPONSE: GET /order/ - Status: 200
2025-12-15 09:15:18,172 - app.database - DEBUG - Database session closed
